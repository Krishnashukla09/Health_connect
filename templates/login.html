<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login / Signup | HealthConnect</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}">
</head>
<body>
  <div class="auth-container">
    <h2 id="form-title">Login</h2>
    <form action="/login" method="POST" id="auth-form">
      <input type="text" name="username" placeholder="Username" required>
      <input type="password" name="password" placeholder="Password" required>

      <div id="signup-extra" style="display: none;">
        <input type="email" name="email" placeholder="Email">
      </div>

      <button type="submit" id="submit-btn">Login</button>
    </form>

    <p id="toggle-msg">
      New here? <a href="#" id="toggle-link">Create an account</a>
    </p>
  </div>

  <script>
    let isLogin = true;

    function toggleForm(e) {
      e.preventDefault();
      isLogin = !isLogin;

      document.getElementById("form-title").innerText = isLogin ? "Login" : "Sign Up";
      document.getElementById("submit-btn").innerText = isLogin ? "Login" : "Sign Up";
      document.getElementById("signup-extra").style.display = isLogin ? "none" : "block";

      document.getElementById("toggle-msg").innerHTML = isLogin
        ? `New here? <a href="#" id="toggle-link">Create an account</a>`
        : `Already have an account? <a href="#" id="toggle-link">Login</a>`;

      document.getElementById("toggle-link").addEventListener("click", toggleForm);
    }

    document.getElementById("toggle-link").addEventListener("click", toggleForm);
  </script>
</body>
</html>
